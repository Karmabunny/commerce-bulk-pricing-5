{# @var craft \craft\web\twig\variables\CraftVariable #}
{#
/**
 * Commerce Bulk Pricing plugin for Craft CMS
 *
 * CommerceBulkPricingField Field Settings
 *
 * @author    Kurious Agency
 * @copyright Copyright (c) 2019 Kurious Agency
 * @link      https://kurious.agency
 * @package   CommerceBulkPricing
 * @since     1.0.0
 */
#}


{# {% do view.registerAssetBundle("kuriousagency\\commerce\\bulkpricing\\assetbundles\\bulkpricingfield\\BulkPricingAsset") %} #}

{% import '_includes/forms' as forms %}

{{ columnsField|raw }}
{# {{ defaultsField|raw }} #}


{% set options = [] %}
{% for group in craft.app.userGroups.getAllGroups() %}
	{% set options = options|merge([{label:group.name, value:group.id}]) %}
{% endfor %}

<div class="field">
	<div class="heading">
		<label>User Groups</label>
		<div class="instructions"><p>Select the user groups that the Bulk pricing will be applied to.</p></div>
	</div>
	<div class="input ltr">
	{{ forms.checkboxGroup({
		label: 'User Groups',
		name: 'userGroups',
		options: options,
		values: field.userGroups,
	}) }}
	</div>
</div>

<div class="field">
	<div class="heading">
		<label>Price include tax</label>
		<div class="instructions"><p>Do the prices include tax?</p></div>
	</div>
	<div class="input ltr">
	{{ forms.lightswitch({
		name: 'taxIncluded',
		on: field.taxIncluded
	}) }}
	</div>
</div>

{# {{ forms.textField({
    label: "Min Rows"|t('app'),
    instructions: "The minimum number of rows the field is allowed to have."|t('app'),
    id: 'minRows',
    name: 'minRows',
    value: field.minRows,
    size: 3,
    errors: field.getErrors('minRows')
}) }}

{{ forms.textField({
    label: "Max Rows"|t('app'),
    instructions: "The maximum number of rows the field is allowed to have."|t('app'),
    id: 'maxRows',
    name: 'maxRows',
    value: field.maxRows,
    size: 3,
    errors: field.getErrors('maxRows')
}) }}

{{ forms.textField({
    label: "Add Row Label"|t('app'),
    instructions: "Insert the button label for adding a new row to the table."|t('app'),
    id: 'addRowLabel',
    name: 'addRowLabel',
    value: field.addRowLabel,
    size: 20,
    errors: field.getErrors('addRowLabel')
}) }} #}

{# {% if craft.app.db.isMysql %}
    <hr>
    <a class="fieldtoggle" data-target="advanced">{{ "Advanced"|t('app') }}</a>
    <div id="advanced" class="hidden">
        {{ forms.selectField({
            label: "Column Type"|t('app'),
            id: 'column-type',
            name: 'columnType',
            instructions: "The type of column this field should get in the database."|t('app'),
            options: [
                { value: 'text', label: 'text (~64KB)' },
                { value: 'mediumtext', label: 'mediumtext (~16MB)' },
            ],
            value: field.columnType,
            warning: (field.id ? "Changing this may result in data loss."|t('app')),
        }) }}
    </div>
{% endif %} #}
